# Screen configuration for tuxedo workspaces
# Enables mouse wheel scrolling through tmux by disabling alternate screen

# Start shell as login shell (-$SHELL) so nvm and other tools initialize properly
shell -$SHELL

# Enable truecolor support for Claude Code and other terminal apps
truecolor on
setenv COLORTERM truecolor

# Signal dark terminal to apps (white-on-black: foreground=15, background=0)
setenv COLORFGBG "15;0"

# Pass TUXEDO_WORKSPACE through to the shell
# Users should add this to ~/.zshenv (or ~/.bashrc for bash):
#   if [ -n "$TUXEDO_WORKSPACE" ]; then
#     export PATH="$TUXEDO_WORKSPACE/scripts:$TUXEDO_WORKSPACE/scripts/agents:$PATH"
#   fi

# Scrollback buffer
defscrollback 10000

# Disable alternate screen mode so scrollback works with mouse wheel
# This keeps output visible in scrollback buffer
termcapinfo xterm* ti@:te@

# Disable screen's own visual bell
vbell off

# Enable mouse tracking for region focus
mousetrack on
altscreen on

# Region navigation (Shift+Left/Right passed through from tmux)
bindkey "^[[1;2D" focus prev
bindkey "^[[1;2C" focus

# Quick split with new shell: Ctrl-a \ (vertical), Ctrl-a - (horizontal)
bind \\ eval "split -v" "focus" "screen"
bind - eval "split" "focus" "screen"

# Close current region: Ctrl-a x
bind x remove
