# Tuxedo tmux configuration
# Use a login shell
set -g default-command "${SHELL}"

setw -g mode-keys vi

set-option -g status-position top

# cntrl + t to create a new window ('tab')
bind -n C-t new-window

# cmd + left/right - move window left / right (via Ghostty keybind)
bind-key -n M-Left previous-window
bind-key -n M-Right next-window

# reload config (uses TUXEDO_TMUX_CONF env var set by tuxedo.sh)
bind-key -n C-r run-shell 'tmux source-file "${TUXEDO_TMUX_CONF:-$HOME/.tmux.conf}" && tmux display-message "Config reloaded"'

bind-key -n C-k clear-history \; send-keys clear Enter

# show working directory and git branch in status bar (upper right)
set -g status-right '#{pane_current_path} #(cd "#{pane_current_path}"; git rev-parse --abbrev-ref HEAD 2>/dev/null)'
set -g status-interval 5

# Color working windows in status bar (orange when @working_status is true)
set -g window-status-format '#{?#{==:#{@working_status},true},#[fg=colour208]#I:#W#[default],#I:#W}'
set -g window-status-current-format '#{?#{==:#{@working_status},true},#[fg=colour208 bold]#I:#W#[default],#[bold]#I:#W}'
