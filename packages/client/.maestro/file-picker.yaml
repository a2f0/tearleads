appId: com.tearleads.rapid
---
- launchApp:
    clearState: true

- assertVisible: "Tearleads"

# Wait for the app to fully initialize - give it extra time in CI
- extendedWaitUntil:
    visible: "Files"
    timeout: 15000

# Take a screenshot to debug what the UI looks like
- takeScreenshot: before-choose-files-check

# Debug: Check if web dropzone is showing (would mean platform detection is wrong)
# This uses extendedWaitUntil with short timeout to quickly check
- extendedWaitUntil:
    visible:
      or:
        - "Choose Files"
        - "Drag and drop"
    timeout: 5000

# Take another screenshot after the above check
- takeScreenshot: after-wait-for-either

# On native (Android/iOS), the dropzone shows "Choose Files" button
# On web, it shows "Drag and drop files here"
# We expect native UI on Android/iOS
- assertVisible: "Choose Files"
- tapOn: "Choose Files"
