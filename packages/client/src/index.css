@import "tailwindcss";
@import "@rapid/ui/styles.css";

@source "../../ui/src";

/* Edge-to-edge safe area handling */
.safe-area-inset {
  padding-top: env(safe-area-inset-top);
  padding-left: env(safe-area-inset-left);
  padding-right: env(safe-area-inset-right);
}

/* Override react-pdf page wrapper backgrounds for dark theme support */
.pdf-container .react-pdf__Page {
  background: transparent;
}

/* Constrain PDF page width to prevent horizontal scrolling on mobile.
   !important is required to override react-pdf's inline height style on the canvas,
   which is set dynamically based on scale. Without it, the aspect ratio breaks
   when max-width constrains the width. */
.pdf-container .react-pdf__Page canvas {
  max-width: 100%;
  height: auto !important;
}

/* Constrain text and annotation layers to match canvas */
.pdf-container .react-pdf__Page .react-pdf__Page__textContent,
.pdf-container .react-pdf__Page .react-pdf__Page__annotations {
  max-width: 100%;
  overflow: hidden;
}

/* Audio seek slider styling */
.audio-slider-seek {
  --progress: 0%;
  background: transparent;
}

/* Webkit seek slider track */
.audio-slider-seek::-webkit-slider-runnable-track {
  height: 8px;
  background: linear-gradient(
    to right,
    hsl(var(--primary)) var(--progress),
    hsl(var(--muted)) var(--progress)
  );
  border-radius: 9999px;
}

/* Volume slider with ramp/wedge shape */
.audio-slider-volume {
  --progress: 0%;
  position: relative;
  background: transparent;
}

/* Webkit volume slider track with ramp shape */
.audio-slider-volume::-webkit-slider-runnable-track {
  height: 12px;
  background: linear-gradient(
    to right,
    hsl(var(--primary)) var(--progress),
    hsl(var(--muted)) var(--progress)
  );
  clip-path: polygon(0 100%, 100% 0, 100% 100%);
  border-radius: 2px;
}

/* Firefox volume slider track with ramp shape */
.audio-slider-volume::-moz-range-track {
  height: 12px;
  background: hsl(var(--muted));
  clip-path: polygon(0 100%, 100% 0, 100% 100%);
  border-radius: 2px;
}

/* Firefox volume slider progress (filled portion) */
.audio-slider-volume::-moz-range-progress {
  height: 12px;
  background: hsl(var(--primary));
  clip-path: polygon(0 100%, 100% 0, 100% 100%);
  border-radius: 2px;
}

/* Common slider thumb styles */
.audio-slider-seek::-webkit-slider-thumb,
.audio-slider-volume::-webkit-slider-thumb,
.audio-slider-seek::-moz-range-thumb,
.audio-slider-volume::-moz-range-thumb {
  border-radius: 50%;
  background: hsl(var(--primary));
  cursor: pointer;
  border: 2px solid hsl(var(--background));
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
}

.audio-slider-seek::-webkit-slider-thumb:hover,
.audio-slider-volume::-webkit-slider-thumb:hover,
.audio-slider-seek::-moz-range-thumb:hover,
.audio-slider-volume::-moz-range-thumb:hover {
  background: hsl(var(--primary) / 0.9);
  transform: scale(1.1);
}

/* Webkit (Chrome, Safari, Edge) specific thumb styles */
.audio-slider-seek::-webkit-slider-thumb,
.audio-slider-volume::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
}

.audio-slider-seek::-webkit-slider-thumb {
  width: 16px;
  height: 16px;
  margin-top: -4px; /* Center 16px thumb on 8px track */
}

.audio-slider-volume::-webkit-slider-thumb {
  width: 12px;
  height: 12px;
  margin-top: 0;
}

/* Firefox specific thumb styles */
.audio-slider-seek::-moz-range-thumb {
  width: 16px;
  height: 16px;
}

.audio-slider-volume::-moz-range-thumb {
  width: 12px;
  height: 12px;
}

/* Firefox seek slider track */
.audio-slider-seek::-moz-range-track {
  height: 8px;
  background: hsl(var(--muted));
  border-radius: 9999px;
}

/* Firefox seek slider progress (filled portion) */
.audio-slider-seek::-moz-range-progress {
  height: 8px;
  background: hsl(var(--primary));
  border-radius: 9999px;
}
