---
import Layout from '../../../layouts/Layout.astro';
import { ApiDocs } from '@rapid/ui';
import openapiSpec from '@rapid/api/dist/openapi.json';
import { defaultLanguage, isSupportedLanguage } from '../../../i18n/config';
import type { SupportedLanguage } from '../../../i18n/config';
import { getStaticPathsForLocales } from '../../../i18n/utils';

export const getStaticPaths = getStaticPathsForLocales;

const { lang } = Astro.params;
const currentLang: SupportedLanguage = isSupportedLanguage(lang)
  ? lang
  : defaultLanguage;
---

<Layout title="API Documentation - Rapid" lang={currentLang}>
  <section class="container mx-auto px-4 py-8">
    <ApiDocs client:load spec={openapiSpec} />
  </section>
</Layout>
